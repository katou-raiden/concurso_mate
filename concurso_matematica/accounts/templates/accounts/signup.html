{% load static %}
{% load widget_tweaks %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="{% static 'accounts/css/signup.css' %}">
    <link rel="stylesheet" href="{% static 'css/all.css' %}">
    <link rel="stylesheet" href="{% static 'css/bootstrap.css' %}">
    <script src="{% static 'js/jquery.min.js' %}"></script>
    <script src="{% static 'js/bootstrap.js' %}"></script>
</head>

<body>
    <div id="signUp-area" class="">

        {% for hidden_field in user_form.hidden_fields %}
        {% if hidden_field.errors %}
        {{ hidden_field.errors }}
        {% endif %}
        {{hidden_field}}
        {% endfor %}

        {% for non_field in user_form.non_fields %}
        {% if non_field.errors %}
        {{ non_field.errors }}
        {% endif %}
        {{ nonfields_field }}
        {% endfor %}

        <form class="" method="POST">
            {% csrf_token %}
         
            <div id="image-area">
                <img src="{% static 'accounts/images/user.svg' %}" id="avatar-img" alt="">
                
                <div id="avatar-field-wrapper">
                   
                    <!-- <input enctype="multipart/form-data" type="file" accept="image/*" name="avatar" id="avatar-field" onchange="loadFile(event)"> -->
                    {{ profile_form.avatar|attr:"onchange:loadFile(event)"|attr:"accept:image/*" }}
                    <i class="fas fa-camera"></i>
                </div>
            </div>
            <div id="email-box" class="onefield">
        
                {{ user_form.email | attr:"placeholder:server@domain.com" }}
            </div>
            <div id="userpass-box" class="twofield">
                {{ user_form.username | attr:"placeholder:Username..." }}
                {{ user_form.password | attr:"placeholder:Password..." }}
            </div>
            <div id="puigrade-box" class="">
                {{ student_form.pui | attr:"placeholder:Tu escuela..." }}
                {{ student_form.grade }}
            </div>

        
            <div id="buttons-box">
                <button type="submit"><i class="fas fa-key"></i></button>
                <a href="{% url 'home' %}"><i class="fas fa-door-open"></i></a>
            </div>
         

        </form>

        <div id="fields-errors" class="my-0">
        </div>

        <div id="links-area">
            {{user_form.errors}}
            {{profile_form.errors}}
            {{student_form.errors}}
            {{professor_form.errors}}

            <a href="#" class="">Forgot your password?</a>
            <div></div>
            <a href="{% url 'login' %}" class="">Already Have an
                Account?</a>
        </div>

    </div>

    <script>
        var loadFile = function (event) {
            
            var image = document.getElementById('avatar-img');
            image.src = URL.createObjectURL(event.target.files[0]);
            imageComputedStyle =getComputedStyle(image, null); 

            if (imageComputedStyle.width !== "95%" && imageComputedStyle.height !== "95%") {
                
                image.style.width = "95%";
                image.style.height = "95%";
            }
        };

        


    </script>

    

</body>

</html>