{% extends "core/base.html" %}
{% load static %}
{% load widget_tweaks %}

{% block content %}
<link rel="stylesheet" href="{% static 'news/css/main.css' %}">
<section id="news-section" class="">

  <div class="row">
    <!-- Columna de filtros de la pagina -->
    <div id="filters" class="col-12 col-md-4">
      <div class="" id="filters-wrapper">
        <h2 class="text-center my-3 text-white font-weight-bolder" id="filters-header">Que Buscas?</h2>

        <form id="filters-form">

          <div class="field">
            {{ filter.form.title|attr:"placeholder=Matriz_Asociada" }}
            {{ filter.form.title.label_tag }}

          </div>


          <div class="field">
            {{ filter.form.username|attr:"placeholder=Juan_Perez" }}
            {{ filter.form.username.label_tag }}

          </div>


          <div class="textfield">
            <label for="{{ filter.form.tags.id_for_label }}" class="">Etiquetas</label>
            {{ filter.form.tags|add_class:"form-control"|attr:"placeholder=Albebra,Calculo" }}

          </div>

          <button class="" type="submit"><i class="fas fa-search"></i></button>

        </form>
      </div>
    </div>
    <!-- Columna del contenido -->
    <div class="col-12 col-md mb-3">
      <!-- Titulo de la pagina de contenido -->
      <h1 class="">Lista de Posts</h1>
      
      {% for new in news.object_list %}

    <div class="post">

      <div class="post-img">
        <img class="" src="{{ new.image.url }}" alt="">
      </div>

      <div class="post-info">
        <div class="post-header">
          <!-- Titulo del post -->
          <a href="{% url 'new' new.id %}" class="">{{ new.title }}</a>
          <!-- Duracion del video -->
          <span>5 min</span>
        </div>
        <div class="post-footer">
          <!-- Autor del post -->
          por<a class='user-info' href="#">@{{ new.user.username }}</a>
          <!-- Fecha de publicacion -->
          <span>el 21/04/2019</span>
        </div>
        <div class="tags">
          <!-- Etiquetas -->
          {% for tag in new.tag.all %}
          <a class="tag" href="{% url 'tag_click' tag.name %}">{{ tag.name }}</a>
          {% endfor %}

        </div>
      </div>
    </div>

  

    {% endfor %}
  </div>
    </div>


    

    <!-- Paginador del contenido -->
    {% if news.has_other_pages %}

    <ul class="pagination justify-content-center">

      {% if news.has_previous %}

      <li class=page-item><a class="page-link" href="?page={{ news.previous_page_number }}">&laquo;</a></li>

      {% else %}

      <li class="disabled page-item"><a class="page-link">&laquo;</a></li>

      {% endif %}

      {% for i in news.paginator.page_range %}

      {% if news.number == i %}

      <li class="page-item active"><a class=" page-link" href="?page={{ i }}">{{ i }}</a></li>

      {% else %}

      <li class="page-item"><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>

      {% endif %}

      {% endfor %}

      {% if news.has_next %}

      <li class="page-item"><a href="?page={{ news.next_page_number }}" class="page-link">&raquo;</a></li>

      {% else %}

      <li class="page-item disabled"><a href="#" class="page-link">&raquo;</a></li>

      {% endif %}
    </ul>
    {% endif %}

  </div>
</section>


{% endblock %}